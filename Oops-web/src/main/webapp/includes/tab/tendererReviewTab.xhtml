<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <div>
        <h:outputLabel styleClass="titlePanelReviewAdmin" value="Liste de vos amis soumis :" rendered="#{tendererReviewBean.areReviews()}" />
        <h:outputLabel styleClass="titlePanelReviewAdmin" value="Vous n'avez pas encore soumis d'avis." rendered="#{!tendererReviewBean.areReviews()}" /> 
        <p:panel id="reviewsList">
            <div>
                <c:forEach items="#{tendererReviewBean.reviews}" var="review" >
                    <div class="divReviews">
                        <div class="divImageReviewAdmin">
                            <h:graphicImage value="#{review.contractor.logo}" width="40px"/>
                        </div>
                        <h:outputLabel style="font-size: 20px;" value="#{review.appreciation}"/>
                        <br/>
                        <h:outputText value="#{review.content}" />
                        <br/>
                        <div class="diveRateReview">
                            <b id="starsTxt2" style="float:left;">Note : </b> 
                            <p:rating id="stars2" style="float: left;" value="#{review.rating}" stars="5" readonly="true" />
                        </div>
                        <br/>
                        <c:if test="#{review.contractorAnswer != null}" >
                            <b>Reponse : </b><h:outputText value="#{review.contractorAnswer}" />
                        </c:if>
                        <c:if test="#{review.contractorAnswer == null}" >
                            <b>Reponse : </b><h:outputText style="font-style: italic;" value="Aucune rÃ©ponse de la part du prestataire" />
                        </c:if>
                        
                        <h:outputLabel value="Statut : #{tendererReviewBean.getReviewState(review.reviewState)}"/>
                        <h:form id="formComment">
                            <p:growl id="growlReviewTenderer" sticky="false" showDetail="false" life="3000" /> 
                            <p:commandButton id="deleteButton" value="Supprimer" />
                            <p:commandButton id="editButton" value="Modifier" update="growlReviewTenderer" />
                        </h:form>
                    </div>
                </c:forEach>
            </div>
        </p:panel>
    </div>
    
</ui:composition>