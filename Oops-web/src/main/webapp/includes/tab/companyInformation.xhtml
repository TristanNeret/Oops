<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:t="http://xmlns.jcp.org/jsf/passthrough">
    
    <div>
        
        <p:panel id="companyPanel">
         
            <h:form id="form">


                                        <h:panelGrid columns="2">
                                            <h:outputLabel value="Raison sociale : "  />
                                            <h:outputText  id="socialReason" value="#{contractorEditBean.socialReason}" />
                                            

                                            <h:outputLabel value="Forme juridique :"  />
                                            <h:outputText  id="legalForm" value="#{contractorEditBean.legalForm}" />
                                             
                                            
                                            <h:outputLabel value="Chiffres d'affaire : "  />
                                            <h:outputText  id="turnover" value="#{contractorEditBean.turnover}" />
                                               
                                            
                                            <h:outputLabel value="Nombres d'employes : "  />
                                            <h:outputText  id="nbEmployees" value="#{contractorEditBean.nbEmployees}" />
                                                
                                            
                                            <h:outputLabel value="SIREN"/>
                                            <h:outputText  id="siren" value="#{contractorEditBean.siren}" />

                                            <h:outputLabel value="SIRET"/>
                                            <h:outputText  id="siret" value="#{contractorEditBean.siret}" />
                                            
                                            <h:outputLabel value="ASSURANCES"/>
                                            <h:outputText  id="insurrance" value="#{contractorEditBean.insurrance}" />
                                            
                                            <h:outputLabel value="RCS"/>
                                            <h:outputText  id="rcs" value="#{contractorEditBean.rcs}" />
                                            
                                            
                                                                                       
                                        </h:panelGrid>
                                           
                                           <p:commandButton  value="Modifier" oncomplete="PF('dlginfo').show()">
                                           <p:ajax update="modifiedRs" resetValues="true" />
                                            <p:ajax update="modifiedLf" resetValues="true" />
                                            <p:ajax update="modifiedTurnover" resetValues="true" />
                                            <p:ajax update="modifiedNbemploye" resetValues="true" />
                                            <p:ajax update="modifiedSiren" resetValues="true" />
                                            <p:ajax update="modifiedSiret" resetValues="true" />
                                            <p:ajax update="modifiedRcs" resetValues="true" />
                                           </p:commandButton>
                                        <p:dialog header="Modifier mes informations" resizable="false" showEffect="fade" widgetVar="dlginfo">
                                             <div class="dialogTitle"> Modifier les informations de mon entreprise !</div> 
                                            <p:panelGrid id="outputinfo" columns="2" columnClasses="label, value">
                                                    <h:outputText value="Raison social:" />
                                                    <p:inputText  id="modifiedRs" value="#{contractorEditBean.socialReason}" label="Social Reason" />
                                                    <h:outputText value="Forme juridique :" />
                                                    <p:inputText  id="modifiedLf" value="#{contractorEditBean.legalForm}" label="Legal Form"/>
                                                    <h:outputText value="Chiffres d'affaire:" />
                                                    <p:inputText  id="modifiedTurnover" value="#{contractorEditBean.turnover}" label="Turnover"/>
                                                    <h:outputText value="Nombres d'employes" />
                                                    <p:inputText  id="modifiedNbemploye" value="#{contractorEditBean.nbEmployees}" label="nombres de employees"/>
                                                    <h:outputText value="SIREN :" />
                                                    <p:inputText  id="modifiedSiren" value="#{contractorEditBean.siren}" label="Siren"/>
                                                    <h:outputText value="SIRET :" />
                                                    <p:inputText  id="modifiedSiret" value="#{contractorEditBean.siret}" label="Siret"/>
                                                    <h:outputText value="ASSURANCES :" />
                                                    <p:inputText  id="modifiedInsurrance" value="#{contractorEditBean.insurrance}" label="ASSURANCES"/>
                                                    <h:outputText value="RCS :" />
                                                    <p:inputText  id="modifiedRcs" value="#{contractorEditBean.rcs}" label="RCS"/>
                                                    
                                                   
                                                    
                                              </p:panelGrid>
                                            <div class="dialogFooter" >
                                                <p:commandButton value="Enregistrer" actionListener="#{contractorEditBean.updateInfo()}" update="@form"/>
                                            </div>
                                        </p:dialog>
                </h:form>
        </p:panel>
        </div>
</ui:composition>