<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui">
    
    <div>
        
            <h:form>
               
                <p>
                    <h:outputLabel for="modifiedFirstName" style="color: #66cccc"> Pr√©nom: </h:outputLabel>
                    <p:inputText  id="modifiedFirstName" value="#{contractorEditBean.contractor.representatorFirstname}">
                        <f:ajax  event="blur" render="firstNameMessage"/>
                    </p:inputText>
                    <h:message id="firstNameMessage" for="modifiedFirstName" errorClass="erreur" />
                </p>
                
                <p>
                <h:outputLabel for="modifiedLastName" style="color: #66cccc"> Nom: </h:outputLabel>
                <p:inputText  id="modifiedLastName" value="#{contractorEditBean.contractor.representatorLastname}">
                    <f:ajax  event="blur" render="lastNameMessage"/>
                </p:inputText>
                <h:message id="lastNameMessage" for="modifiedLastName" errorClass="erreur" />
                </p>
                
                <p>
                <h:outputLabel for="modifiedEmail" style="color: #66cccc"> Email : </h:outputLabel>
                <p:inputText  id="modifiedEmail" value="#{contractorEditBean.contractor.email}">
                    <f:ajax  event="blur" render="emailMessage"/>
                    <f:validator validatorId="com.gdf.mailFormatValidator"/>
                </p:inputText>    
                <h:message id="emailMessage" for="modifiedEmail" errorClass="erreur" />
                </p>
                
                <p>
                <h:outputLabel for="modifiedPhoneNumber" style="color: #66cccc"> Phone : </h:outputLabel>
                <p:inputText  id="modifiedPhoneNumber" value="#{contractorEditBean.contractor.phone}">
                    <f:validator validatorId="com.gdf.phoneFormatValidator"/>
                    <f:ajax  event="blur" render="phoneMessage"/>
                </p:inputText>
                <h:message id="phoneMessage" for="modifiedPhoneNumber" errorClass="erreur" />
                </p>
                 
                <h:commandButton value="enregistrer" action="#{contractorEditBean.update}"></h:commandButton>    
             </h:form>   
        
            <h:form>
                <h:commandButton value="annuler" action="#{contractorEditBean.undo}"></h:commandButton>    
            </h:form> 
        
            <br/>
            <h:form >
            
                <p>
                <h:outputLabel value ="" for="password" style="color: #66cccc">Mot de passe <span class="requis">*</span></h:outputLabel>
                <h:inputSecret id="password" value="#{contractorEditBean.contractor.password}" size="20" maxlength="20" binding="#{composantMotDePasse}" >
                    <f:ajax event="blur" execute="password confirmationPassword" render="passwordMessage confirmationPasswordMessage" />
                </h:inputSecret>  
                <h:message id="passwordMessage" for="password" errorClass="erreur" />
                </p>

                <p>
                <h:outputLabel for="confirmationPassword" style="color: #66cccc">Confirmation du mot de passe <span class="requis">*</span></h:outputLabel>
                <h:inputSecret id="confirmationPassword" value="#{contractorEditBean.contractor.password}" size="20" maxlength="20">
                    <f:validator validatorId="passwordConfirmationValidator" />
                    <f:attribute name="composantMotDePasse" value="#{composantMotDePasse}" />
                    <f:ajax event="blur" execute="password confirmationPassword" render="passwordMessage confirmationPasswordMessage" /> 
                </h:inputSecret> 
                <h:message id="confirmationPasswordMessage" for="confirmationPassword" errorClass="erreur" />
                </p>
               
                <h:commandButton value="modifier mot de passe" action="#{contractorEditBean.update}"></h:commandButton>    
    
            </h:form>        
                 
        </div>
</ui:composition>
