<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <div>
        
            <h:form>
                <h:outputLabel value="Prénom:" />
                <h:inputText  id="modifiedLastName" value="#{contractorEditBean.contractor.representatorLastname}" required="true"/><br/>
                <h:outputLabel value="Nom" />
                <h:inputText  id="modifiedFirstName" value="#{contractorEditBean.contractor.representatorFirstname}" required="true"/><br/>
                
                <h:outputLabel value="Adresse mail :" />
                <h:inputText  value="#{contractorEditBean.contractor.email}">
                    <f:validator validatorId="com.gdf.mailFormatValidator"/>
                </h:inputText>    
                <br/>
                <h:outputLabel value="Téléphone :" />
                
                
                <h:inputText  id="modifiedPhoneNumber" value="#{contractorEditBean.contractor.phone}" required="true" /><br/>
                 
                <h:message id="passwordMessage" for="password" errorClass="erreur" />
                <br />
                <h:commandButton value="enregistrer" action="#{contractorEditBean.update}"></h:commandButton>    
             </h:form>   
        
            <h:form>
                <h:commandButton value="annuler" action="#{contractorEditBean.undo}"></h:commandButton>    
            </h:form> 
        
        
            <h:form >
            
                <h:outputLabel for="password">Mot de passe <span class="requis">*</span></h:outputLabel>
                <h:inputSecret id="password" value="#{contractorEditBean.contractor.password}" required="true" size="20" maxlength="20" binding="#{composantMotDePasse}" >
                    <f:ajax event="blur" execute="password confirmationPassword" render="passwordMessage confirmationPasswordMessage" />
                </h:inputSecret>   

               
                <h:outputLabel for="confirmationPassword">Confirmation du mot de passe <span class="requis">*</span></h:outputLabel>
                <h:inputSecret id="confirmationPassword" value="#{contractorEditBean.contractor.password}" required="true" size="20" maxlength="20">
                    <f:validator validatorId="passwordConfirmationValidator" />
                    <f:attribute name="composantMotDePasse" value="#{composantMotDePasse}" />
                    <f:ajax event="blur" execute="password confirmationPassword" render="passwordMessage confirmationPasswordMessage" /> 
                </h:inputSecret>    
                <h:message id="confirmationPasswordMessage" for="confirmationPassword" errorClass="erreur" />
                <br />
               
                <h:commandButton value="modifier mot de passe" action="#{contractorEditBean.update}"></h:commandButton>    
    
            </h:form>        
                 
        </div>
</ui:composition>
